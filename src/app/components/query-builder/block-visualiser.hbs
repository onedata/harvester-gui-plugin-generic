<div
  class="query-builder-block-visualiser {{if isDirectlyHovered "directly-hovered"}}"
  {{closest-hovered selector=".query-builder-block-visualiser" handler=this.directlyHovered}}
>
  {{#component (concat "query-builder/" @queryBlock.constructor.renderer)
    queryBlock=@queryBlock
    indexProperties=@indexProperties
    onConditionEditionStart=@onConditionEditionStart
    onConditionEditionEnd=@onConditionEditionEnd
    onConditionEditionValidityChange=@onConditionEditionValidityChange
    onBlockRemoved=@onBlockRemoved
  }}
    <QueryBuilder::BlockSettings
      @queryBlock={{@queryBlock}}
      @onBlockReplace={{@onBlockReplace}}
      class="block-button"
    />
    <BsButton
      @onClick={{@onBlockRemove}}
      @type="danger"
      class="block-button remove-block"
    >
      <FaIcon @icon="times" />
    </BsButton>
  {{/component}}
</div>
